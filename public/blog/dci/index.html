
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>DCI - Hack hack hack...</title>
  <meta name="author" content="Adam Jonas">

  
  <meta name="description" content="tl;dr In DCI, Objects are viewed as whole objects rather than a composition of parts. e.g. fido is not seen as part class Animal and class &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.adamjonas.com/blog/dci/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Hack hack hack..." type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
 <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-35486864-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <div id="logo">
  	<div id="logoLeft">{</div>
  	<div id="logoText">Adam Jonas</div>
  	<div id="logoRight">}</div>
  	<div class="clear"></div>
  </div>
  <h1><a href="/">Hack hack hack...</a></h1>
  
    <h2>An open journal-- some of it written for you, but most of it is for me.</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.adamjonas.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/glossary">Glossary</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      
        <h1 class="entry-title">DCI</h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-10-13T17:35:00-04:00" pubdate data-updated="true">Oct 13<span>th</span>, 2012</time>
        
      </p>
    
  </header>


<div class="entry-content"><h3>tl;dr</h3>

<p><em>In DCI, Objects are viewed as whole objects rather than a composition of parts. e.g. fido is not seen as part class Animal and class MansBestFriend.</em></p>

<h3>What is DCI?</h3>

<ul>
<li>Data</li>
<li>Context</li>
<li>Interaction</li>
</ul>


<h3>What are its goals?</h3>

<ul>
<li>To improve the readability of object-oriented code by giving system behavior first-class status;</li>
<li>To cleanly separate code for rapidly changing system behavior (what the system does) from code for slowly changing domain knowledge (what the system is), instead of combining both in one class interface;</li>
<li>To help software developers reason about system-level state and behavior instead of only object state and behavior;</li>
<li>To support an object style of thinking that is close to peoples&#8217; mental models, rather than the class style of thinking that overshadowed object thinking early in the history of object-oriented programming languages.</li>
</ul>


<blockquote><p>The paradigm separates the domain model (data) from use cases (context) and roles that objects play (interaction). DCI is complementary to model–view–controller (MVC).</p></blockquote>

<h3>Why?</h3>

<p>Some objects do different things in different parts of your application. You cannot use inheritance to cover the varying behaviour as the behaviours should change back and forth. The object just behaves different depending on the context.</p>

<blockquote><p>DCI is about much more than just extending objects at runtime. It&#8217;s about capturing the end user&#8217;s mental model and reconstructing that into maintainable code.</p></blockquote>

<h3>What DCI is thought as, but isn&#8217;t</h3>

<p>#extend as the go-to means of adding methods to objects at runtime.</p>

<p>The important thing to know about DCI is that it&#8217;s about more than just code. It&#8217;s about process and people. It starts with principles behind Agile and Lean and extends those into code. The real benefit of following DCI is that it plays nicely with Agile and Lean. It&#8217;s about code maintainability, responding to change, and decoupling what the system does (its functionality) from what the system is (its data model).</p>

<h3>Data</h3>

<ul>
<li>The system are the actors

<ul>
<li>Object thinking instead of class thinking</li>
</ul>
</li>
<li>correspond closely to the model objects of MVC.</li>
</ul>


<blockquote><p>An example of a data object could be a bank account. Its interface would have basic operations for increasing and decreasing the balance and for inquiring about the current balance. The interface would likely not offer operations that involve transactions, or which in any way involve other objects or any user interaction. So, for example, while a bank account may offer a primitive for increasing the balance, it would have no method called deposit. Such operations belong instead in the interaction part of DCI.</p></blockquote>

<h3>Context</h3>

<p><em>the environment for which Data objects execute their Role. The goal of the Context is to connect Roles (what the system does) to Data objects (what the system is).</em></p>

<ul>
<li>How the system looks and starts -> the director</li>
<li>There is always at least one Context for every one user story</li>
<li>Identify objects and assign them roles at runtime</li>
<li>Use case functionality = data object with assigned roles combined.</li>
</ul>


<h3>Interaction</h3>

<ul>
<li>&#8220;What a system does&#8221; -> its role</li>
<li>Roles played by objects</li>
<li>stateless</li>
<li>Call methods on self (=playing object)</li>
<li>Interactions are generic</li>
</ul>


<h3>DCI in rails</h3>

<ul>
<li>data => ActiveRecord model: The Data should really only consist of persistence-level methods, never how the persisted data is used.

<ul>
<li>DCI suggests that we keep our core model classes very thin. Zero logic, only data, if anything.

<ul>
<li>The logic/ behavior should be kept in roles. In Ruby we can nicely use mixins for that</li>
</ul>
</li>
</ul>
</li>
<li>context => Controller action or separate workflow case: we trigger our Context within the Controller.</li>
<li>roles => Module to mix in</li>
</ul>


<p><img src="/images/MVC_DCI.jpeg" title="Rails: MVC and DCI" ></p>

<p>DCI reduces the number of objects in your project, but increases the number
of roles they play.</p>

<h3>Characteristics of DCI</h3>

<p><em>In DCI, Objects are viewed as whole objects rather than a compositon of parts. e.g. fido is not seen as part class Animal and class Friend.</em></p>

<ul>
<li>An object-oriented program is a complex and dynamic network of objects, in the same sense that relationships between real-world objects are complex and dynamic.</li>
<li>The object has its own identity independent of the use case; this is the Data facet of DCI.</li>
<li>Roles are aliased names for their objects but are never separate objects themselves; that would cause self schizophrenia.</li>
</ul>


<h3>In the Wild</h3>

<ul>
<li>DCI depends on a design process that separates use cases from the data model.</li>
<li>DCI can be thought of as an event-driven paradigm, where some event (as a human gesture in an MVC architecture) triggers a use case. The use case can be short-lived or long-lived. The events are called triggers, and they are handled in the environment in which DCI has been embedded. This environment may be the Controller of a conventional MVC architecture or any other system-level code.</li>
</ul>


<figure class='code'><figcaption><span>An over-simplified example</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Dog</span><span class="p">;</span> <span class="k">end</span> <span class="c1"># Data</span>
</span><span class='line'><span class="k">module</span> <span class="nn">Labrador</span> <span class="c1"># Role</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">bark</span>
</span><span class='line'>    <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">fido</span> <span class="o">=</span> <span class="no">Dog</span><span class="o">.</span><span class="n">new</span> <span class="c1"># Context</span>
</span><span class='line'><span class="n">fido</span><span class="o">.</span><span class="n">extend</span> <span class="no">Labrador</span>
</span><span class='line'><span class="n">fido</span><span class="o">.</span><span class="n">bark</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Problems with DCI</h3>

<ol>
<li>It requires a large paradigm shift. It&#8217;s designed to compliment MVC (Model-View-Controller) so it fits well into Rails, but it requires you to move all your code outside the controller and model. As we all know, the Rails community has a fetish for putting code in models and controllers. The paradigm shift is large, something that would require a large refactor for some apps. However, DCI could probably be refactored in on a case-by-case basis allowing apps to gradually shift from &#8220;fat models, skinny controllers&#8221; to DCI.</li>
<li>It potentially carries performance degradations, due to the fact that objects are extended ad hoc.</li>
</ol>


<h3>History</h3>

<p>DCI arose largely as an outgrowth of Trygve Reenskaug&#8217;s work on role-based modeling. Trygve had long recognized that Roles played a central part in the way we think about objects, and that the class-based progression of programming language technology took away much of the motivation to think about the objects in a program. That in turn made it difficult to reason about the program at run time. Further, the fact that object-oriented programming languages offered only classes to express program logic left the programmer at the mercy of the structural layout of the data to delineate behavior, which is unnatural compared with a delineating behavior on Role boundaries.</p>

<h3>Sources</h3>

<ul>
<li><a href="https://speakerdeck.com/u/mordaroso/p/dci-and-ruby">Primary source</a> a presentation without sound. It didn&#8217;t help much.</li>
<li><a href="http://en.wikipedia.org/wiki/Data,_Context,_and_Interaction">wikipedia</a></li>
<li><a href="http://mikepackdev.com/blog_posts/24-the-right-way-to-code-dci-in-ruby">The Right Way to Code DCI in Ruby</a></li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Adam Jonas</span></span>

      








  


<time datetime="2012-10-13T17:35:00-04:00" pubdate data-updated="true">Oct 13<span>th</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/object-oriented/'>object-oriented</a>, <a class='category' href='/blog/categories/patterns/'>patterns</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.adamjonas.com/blog/dci/" data-via="adamcjonas" data-counturl="http://www.adamjonas.com/blog/dci/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left articlenav" href="/blog/fis-day7/" title="Previous Post: FIS Day7">&laquo; FIS Day7</a>
      
      
        <a class="basic-alignment right articlenav" href="/blog/fis-day8/" title="Next Post: FIS Day8">FIS Day8 &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/fis-day23/">FIS Day23</a>
      </li>
    
      <li class="post">
        <a href="/blog/fis-day22/">FIS Day22</a>
      </li>
    
      <li class="post">
        <a href="/blog/fis-day21/">FIS Day21</a>
      </li>
    
      <li class="post">
        <a href="/blog/code-smells-and-refactoring/">code smells and refactoring</a>
      </li>
    
      <li class="post">
        <a href="/blog/anatomy-of-web-requests/">Anatomy of Web Requests</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/fis/'>FIS (27)</a></li>
<li class='category'><a href='/blog/categories/sql/'>SQL (5)</a></li>
<li class='category'><a href='/blog/categories/tdd/'>TDD (1)</a></li>
<li class='category'><a href='/blog/categories/todo/'>TODO (5)</a></li>
<li class='category'><a href='/blog/categories/agile/'>agile (1)</a></li>
<li class='category'><a href='/blog/categories/airbrake/'>airbrake (2)</a></li>
<li class='category'><a href='/blog/categories/associations/'>associations (2)</a></li>
<li class='category'><a href='/blog/categories/authentication/'>authentication (1)</a></li>
<li class='category'><a href='/blog/categories/bootstrap/'>bootstrap (1)</a></li>
<li class='category'><a href='/blog/categories/curl/'>cURL (1)</a></li>
<li class='category'><a href='/blog/categories/cheatsheet/'>cheatsheet (1)</a></li>
<li class='category'><a href='/blog/categories/cli/'>cli (1)</a></li>
<li class='category'><a href='/blog/categories/code/'>code (1)</a></li>
<li class='category'><a href='/blog/categories/codeschool/'>codeschool (2)</a></li>
<li class='category'><a href='/blog/categories/css/'>css (1)</a></li>
<li class='category'><a href='/blog/categories/databases/'>databases (1)</a></li>
<li class='category'><a href='/blog/categories/design/'>design (1)</a></li>
<li class='category'><a href='/blog/categories/diaspora/'>diaspora (2)</a></li>
<li class='category'><a href='/blog/categories/errors/'>errors (3)</a></li>
<li class='category'><a href='/blog/categories/forms/'>forms (3)</a></li>
<li class='category'><a href='/blog/categories/gems/'>gems (1)</a></li>
<li class='category'><a href='/blog/categories/git/'>git (6)</a></li>
<li class='category'><a href='/blog/categories/helpers/'>helpers (1)</a></li>
<li class='category'><a href='/blog/categories/heroku/'>heroku (3)</a></li>
<li class='category'><a href='/blog/categories/html/'>html (1)</a></li>
<li class='category'><a href='/blog/categories/imagemagick/'>imagemagick (1)</a></li>
<li class='category'><a href='/blog/categories/javascript/'>javascript (1)</a></li>
<li class='category'><a href='/blog/categories/jquery/'>jquery (1)</a></li>
<li class='category'><a href='/blog/categories/kentbeck/'>kentbeck (1)</a></li>
<li class='category'><a href='/blog/categories/lambda/'>lambda (1)</a></li>
<li class='category'><a href='/blog/categories/lecture/'>lecture (12)</a></li>
<li class='category'><a href='/blog/categories/mac/'>mac (1)</a></li>
<li class='category'><a href='/blog/categories/minitest/'>minitest (1)</a></li>
<li class='category'><a href='/blog/categories/modules/'>modules (1)</a></li>
<li class='category'><a href='/blog/categories/mongodb/'>mongoDB (1)</a></li>
<li class='category'><a href='/blog/categories/namespacing/'>namespacing (1)</a></li>
<li class='category'><a href='/blog/categories/notes/'>notes (12)</a></li>
<li class='category'><a href='/blog/categories/object-oriented/'>object-oriented (2)</a></li>
<li class='category'><a href='/blog/categories/octopress/'>octopress (2)</a></li>
<li class='category'><a href='/blog/categories/omniauth/'>omniauth (1)</a></li>
<li class='category'><a href='/blog/categories/openssl/'>openssl (1)</a></li>
<li class='category'><a href='/blog/categories/patterns/'>patterns (1)</a></li>
<li class='category'><a href='/blog/categories/podcasts/'>podcasts (1)</a></li>
<li class='category'><a href='/blog/categories/postgresql/'>postgresql (1)</a></li>
<li class='category'><a href='/blog/categories/procs/'>procs (1)</a></li>
<li class='category'><a href='/blog/categories/quotes/'>quotes (1)</a></li>
<li class='category'><a href='/blog/categories/rack/'>rack (1)</a></li>
<li class='category'><a href='/blog/categories/rails/'>rails (18)</a></li>
<li class='category'><a href='/blog/categories/rake/'>rake (2)</a></li>
<li class='category'><a href='/blog/categories/reading/'>reading (2)</a></li>
<li class='category'><a href='/blog/categories/redis/'>redis (1)</a></li>
<li class='category'><a href='/blog/categories/refactoring/'>refactoring (1)</a></li>
<li class='category'><a href='/blog/categories/rspec/'>rspec (2)</a></li>
<li class='category'><a href='/blog/categories/ruby/'>ruby (24)</a></li>
<li class='category'><a href='/blog/categories/rubymotion/'>rubymotion (1)</a></li>
<li class='category'><a href='/blog/categories/rubyrogues/'>rubyrogues (1)</a></li>
<li class='category'><a href='/blog/categories/scope/'>scope (1)</a></li>
<li class='category'><a href='/blog/categories/setup/'>setup (2)</a></li>
<li class='category'><a href='/blog/categories/shortcuts/'>shortcuts (1)</a></li>
<li class='category'><a href='/blog/categories/sinatra/'>sinatra (1)</a></li>
<li class='category'><a href='/blog/categories/speaker/'>speaker (1)</a></li>
<li class='category'><a href='/blog/categories/testing/'>testing (4)</a></li>

  </ul>
</section>
<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("adamcjonas", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/adamcjonas" class="twitter-follow-button" data-show-count="false">Follow @adamcjonas</a>
  
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Adam Jonas -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'ajonas';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://www.adamjonas.com/blog/dci/';
        var disqus_url = 'http://www.adamjonas.com/blog/dci/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>

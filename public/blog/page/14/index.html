
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Hack hack hack...</title>
  <meta name="author" content="Adam Jonas">

  
  <meta name="description" content="POTD Jeffery Zeldman
Dan Benjamin
Jason Santa Maria
Simplebits.com Gitbo Popularity index
sidekiq
nested issues in repos
slugs wiht friendly_id Rails &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="bPr3kB-X2beP1o9InhOKH9ci-gljU3a7NLEeap4urfc" />

  
  <link rel="canonical" href="http://www.adamjonas.com/blog/page/14/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Hack hack hack..." type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
 <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-35486864-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <div id="logo">
  	<div id="logoLeft">{</div>
  	<div id="logoText">Adam Jonas</div>
  	<div id="logoRight">}</div>
  	<div class="clear"></div>
  </div>
  <h1><a href="/">Hack hack hack...</a></h1>
  
    <h2>An open journal-- some of it written for you, but most of it is for me.</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.adamjonas.com" />
    <input class="search" type="text" name="q" results="100" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/glossary">Glossary</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/fis-day26/">FIS Day26</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-11-12T10:13:00-05:00" pubdate data-updated="true">Nov 12<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>POTD</h3>

<ul>
<li>Jeffery Zeldman</li>
<li>Dan Benjamin</li>
<li>Jason Santa Maria</li>
<li>Simplebits.com</li>
</ul>


<h3>Gitbo</h3>

<ul>
<li>Popularity index</li>
<li><a href="http://railscasts.com/episodes/366-sidekiq">sidekiq</a></li>
<li>nested issues in repos</li>
<li>slugs wiht friendly_id</li>
</ul>


<h3>Rails Lecture</h3>

<ul>
<li>sub-yields or sub-layouts</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#in layouts/application.html.erb</span>
</span><span class='line'><span class="o">&lt;</span><span class="sx">% content_for </span><span class="ss">:page</span><span class="o">-</span><span class="n">navigation</span> <span class="sx">%&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sx">#at the top of the pages that need it</span>
</span><span class='line'><span class="sx">&lt;%= yield :page-navigation %&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Applicaiton level layout</li>
<li>controller level layout</li>
<li>action level layout</li>
</ul>


<figure class='code'><figcaption><span>Action Level Layout</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">respond_to</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
</span><span class='line'>  <span class="nb">format</span><span class="o">.</span><span class="n">html</span> <span class="p">{</span><span class="n">render</span> <span class="ss">:layout</span> <span class="o">=&gt;</span> <span class="s1">&#39;application&#39;</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>content for will allow you to append to the outter layer</li>
</ul>


<h3>Application.css</h3>

<ul>
<li>The manifest file

<ul>
<li>require tree . -> require all files at the same level of this file (dot means current dir, .. means dir above)</li>
<li><a href="https://github.com/sstephenson/sprockets/blob/master/lib/sprockets/directive_processor.rb">sprocket directives</a> tells the app what to include and maintain</li>
<li>files are loaded in order</li>
<li>in production, all the assets will be packed</li>
</ul>
</li>
</ul>


<h3>Compiling</h3>

<ul>
<li><p>rake assets:precompile</p></li>
<li><p>rails s &#8211;environment=production</p>

<ul>
<li>shortcut

<ul>
<li>rails s -e production</li>
</ul>
</li>
</ul>
</li>
</ul>


<h3>Pre-processors</h3>

<ul>
<li>css: doesn&#8217;t allow css variables

<ul>
<li><a href="http://sass-lang.com/">scss and sass</a>

<ul>
<li>scss is backwards compatible with css</li>
</ul>
</li>
<li>sass adds lots of css like variables</li>
</ul>
</li>
<li>coffeescript

<ul>
<li>makes the syntax nicer than javascript</li>
<li>not backwards compatible with javascript</li>
</ul>
</li>
<li>less

<ul>
<li>dynamic stylesheet</li>
</ul>
</li>
<li>HAML

<ul>
<li>HMTL preprocessor</li>
</ul>
</li>
</ul>


<h3>locales/application.rb</h3>

<ul>
<li>want to be sure that all finger prints are new -> config.assets.version = &#8216;1.1&#8217;</li>
<li>config.assets.compile = false /true -> will precompile assets on the first request</li>
</ul>


<h3>Pictures in asset pipeline</h3>

<ul>
<li>Need image-url to trigger the asset pipeline</li>
</ul>


<figure class='code'><figcaption><span>Action Level Layout</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">h1</span><span class="o">.</span><span class="n">logo</span><span class="p">{</span>
</span><span class='line'>  <span class="ss">url</span><span class="p">:</span> <span class="n">image</span><span class="o">-</span><span class="n">url</span><span class="p">(</span><span class="s1">&#39;/whatever.png&#39;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="c1">#NOT</span>
</span><span class='line'><span class="n">h1</span><span class="o">.</span><span class="n">logo</span><span class="p">{</span>
</span><span class='line'>  <span class="ss">url</span><span class="p">:</span> <span class="n">url</span><span class="p">(</span><span class="s1">&#39;/assets/whatever.png&#39;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>In order to use image-url, it needs to be a scss file</p>

<h3>Managing Version Asset files</h3>

<ul>
<li>can manage versions with bundler</li>
<li>declare jquery rails engine means that the app&#8217;s asset path will be loaded autmatically

<ul>
<li>jquery-rails has a vendor dir, so that it adds it when I compile by vendor dir</li>
</ul>
</li>
</ul>


<h3>Bootstrap</h3>

<ul>
<li>rails generate bookstrap:install</li>
<li>tell manifest file to actually include the js</li>
<li>in app.css

<ul>
<li>require bootstrap_and_overides</li>
</ul>
</li>
<li><p>rails g bootstrap:layouts</p></li>
<li><p><a href="http://wrapbootstrap.com">http://wrapbootstrap.com</a></p></li>
<li><a href="http://bootsnipp.com/">http://bootsnipp.com/</a></li>
<li><a href="http://dresssed.com/">http://dresssed.com/</a></li>
</ul>


<h3>Friendly URLs</h3>

<p>Sweet <a href="http://railscasts.com/episodes/314-pretty-urls-with-friendlyid?autoplay=true">rails cast</a> on beautiful slugs and slugifying ids</p>

<h3>What&#8217;s left</h3>

<ul>
<li>AR Callbacks</li>
<li>Controller Filters</li>
<li>Application Controller Helpers</li>
<li>Authentication</li>
<li>Sessions / Cookies</li>
<li>Authorization</li>
<li>Rendering Collections</li>
<li>AREL / Includes and Joins</li>
<li>Scopes / Class Methods</li>
<li>Formatted Responses</li>
<li>ActionView Helpers -> cycle, truncate, except</li>
<li>Asset Pipeline</li>
<li>SASS</li>
<li>CoffeeScript</li>
<li>Javascript Events

<ul>
<li>jQuery</li>
<li>AJAX</li>
</ul>
</li>
<li>Route Options</li>
<li>Securing Rails</li>
<li>Optimization</li>
<li>Caching / Memcached</li>
<li>Observers</li>
<li>Association Options -> dependent destroy, class</li>
<li><p>Polymorphic Models</p></li>
<li><p>Common Gems</p>

<ul>
<li>Pagination</li>
<li>OmniAuth</li>
<li>CanCan</li>
<li>Uploads</li>
<li>ActionMailer</li>
<li>Subdomains</li>
<li>Background Jobs</li>
<li><a href="http://www.intridea.com/blog/2011/5/13/rails3-gems">http://www.intridea.com/blog/2011/5/13/rails3-gems</a></li>
</ul>
</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/fis-day25/">FIS Day25</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-11-11T14:16:00-05:00" pubdate data-updated="true">Nov 11<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Nested Forms</h2>

<ul>
<li>need writers to handle the</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;select name='mixtape[mixtape_song_attributes][][song_id]'&gt;
</span><span class='line'>&lt;% Song.all.each do |song| %&gt;
</span><span class='line'>  &lt;option value='&lt;%= song.id %&gt;'&gt; &lt;%= song.name %&gt;&lt;/option&gt;
</span><span class='line'>&lt;% end %&gt; 
</span><span class='line'>&lt;/select&gt;
</span><span class='line'>
</span><span class='line'>&lt;%= select_tag('mixtape[mixtape_songs_attributes][][song_id]',
</span><span class='line'>options_for_select(Song.all.collect{|s| [s.name, s.id]})) %&gt;
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>#need a song in memory 
</span><span class='line'>@mixtape.mixtape_songs.build
</span><span class='line'>
</span><span class='line'>&lt;%= f.fields_for :mixtape_songs do |mixtape_song_builder| %&gt;
</span><span class='line'>  &lt;%= mixtape_song_builder.select :song_id, songs_for_select %&gt;
</span><span class='line'>&lt;% end %&gt;
</span><span class='line'>
</span><span class='line'>#songs_for_select logic in a helper</span></code></pre></td></tr></table></div></figure>


<ul>
<li>add a scope to your form with fields for</li>
</ul>


<h3>Pass in local variables and change that local variable&#8217;s name in the context of the new partial</h3>

<figure class='code'><figcaption><span>when rendering a partial -> how do I pass in the f. variable.</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="sx">%= render &#39;songs/fields&#39;, :f =</span><span class="o">&gt;</span> <span class="ss">:song_form</span> <span class="o">%&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><p><strong>f.object_name</strong> -> gives you the path of what f is</p>

<ul>
<li>This was valuable with specifying a :name => [&#8220;#{f.object_name}&#8221;][genre_name][]</li>
</ul>
</li>
<li><p>settings represents the edit form for a user</p></li>
<li><p>instead of throwing it away-> label depreciated and put into a folder, since you might need that code later</p></li>
<li><p>HAML is whitespace sensitive, it&#8217;s very strict</p>

<ul>
<li><a href="http://railscasts.com/episodes/39-customize-field-error">customizing field error</a></li>
<li><p><a href="http://guides.rubyonrails.org/active_support_core_extensions.html#class-attributes">field_error_proc</a></p></li>
<li><p><a href="http://railscasts.com/episodes/263-client-side-validations">client side validation</a></p></li>
</ul>
</li>
</ul>


<h3>Adding search to our application</h3>

<figure class='code'><figcaption><span>Implementing Search</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#in routes</span>
</span><span class='line'><span class="n">resources</span> <span class="ss">:songs</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">collection</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">get</span> <span class="ss">:search</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h3</span><span class="o">&gt;</span><span class="no">Search</span> <span class="no">Songs</span><span class="o">&lt;</span><span class="sr">/h3&gt;</span>
</span><span class='line'><span class="sr">&lt;%= form_tag(search_songs_path, :method =&gt; :get) do %&gt;</span>
</span><span class='line'><span class="sr">  &lt;%= text_field_tag :query %&gt;</span>
</span><span class='line'><span class="sr">&lt;%= submit_tag :search %&gt;</span>
</span><span class='line'><span class="sr">&lt;% end %&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">#in songs controller -&gt; fuzzy search</span>
</span><span class='line'><span class="sr">def search</span>
</span><span class='line'><span class="sr">  </span><span class="si">#@songs</span><span class="sr"> = Song.find_all_by_name(params[:query])</span>
</span><span class='line'>
</span><span class='line'><span class="sr">  #should put this in the model</span>
</span><span class='line'><span class="sr">  @songs = Song.where(&quot;name LIKE ?&quot;, &quot;%</span><span class="si">#{</span><span class="n">query</span><span class="si">}</span><span class="sr">%&quot;) </span>
</span><span class='line'><span class="sr">  render :action =&gt; &#39;index&#39;</span>
</span><span class='line'><span class="sr">end</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/refactoring-ruby-edition-notes/">Refactoring Ruby Edition Notes</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-11-10T11:22:00-05:00" pubdate data-updated="true">Nov 10<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Replacing the Conditional Logic on Price Code with Polymorphism [p.32]</h3>

<blockquote><p>Replacing the Conditional Logic on Price Code with Polymorphism
The first part of this problem is that case statement. It is a bad idea to do a case based on an attribute of another object. If you must use a case statement, it should be on your own data, not on someone else’s.
  - <a href="http://robots.thoughtbot.com/post/31728620503/refactoring-replace-conditional-with-polymorphism">Thoughtbot Reading</a></p></blockquote>

<p>??Receiver on page 35?</p>

<h3>Refactoring is&#8230; [p.53]</h3>

<blockquote><p>(noun) A change made to the internal structure of software to make it easier to understand and cheaper to modify with- out changing its observable behavior.</p></blockquote>

<ul>
<li><p>Programming in about saying exactly what you want. But there is another user of your source code. Someone will try to read your code in a few months’ time to make some changes. We easily forget that extra user of the code, yet that user is actually the most important.</p>

<ul>
<li>Who cares if the computer takes a few more cycles to execute something? It does matter if it takes a programmer a week to make a change that would have taken only an hour if she had understood your code.</li>
<li>when you are trying to get the program to work, you are not thinking about that future developer.

<ul>
<li>Often this future developer is me. [p. 55]</li>
</ul>
</li>
</ul>
</li>
<li><p>Kent Beck often makes about himself, “I’m not a great programmer; I’m just a good programmer with great habits.” [p. 56]</p></li>
<li>Don Roberts: The first time you do something, you just do it. The second time you do something similar, you wince at the duplica- tion, but you do the duplicate thing anyway. The third time you do something similar, you refactor. [p. 57]</li>
</ul>


<h3>Problems with refactoring [p. 63]</h3>

<ul>
<li>takes a while to create nothing</li>
<li>performance deoptimization</li>
<li>changing behavior</li>
</ul>


<h3>Code Smells</h3>

<ul>
<li>Duplicated Code [p. 74]</li>
<li>Long Method [p. 74-75]

<ul>
<li>A heuristic we follow is that whenever we feel the need to com- ment something, we write a method instead.</li>
<li>Conditionals and loops also give signs for extractions.</li>
</ul>
</li>
<li>Large Class [p. 76]

<ul>
<li>When a class is trying to do too much, it often shows up as too many instance variables. When a class has too many instance variables, duplicated code cannot be far behind.</li>
</ul>
</li>
<li>Long Parameter List [p. 76]</li>
<li>Divergent Change [p. 77]

<ul>
<li>When we make a change we want to be able to jump to a single clear point in the system and make the change. When you can’t do this you are smell- ing one of two closely related pungencies.</li>
</ul>
</li>
<li>Shotgun Surgery

<ul>
<li>Every time you make a kind of change, you have to make a lot of little changes to a lot of different classes.</li>
<li>opposite of divergent change</li>
</ul>
</li>
<li><strong>Feature Envy [p. 78]</strong>

<ul>
<li>a method that seems more interested in a class other than the one it actually is in.</li>
</ul>
</li>
<li></li>
</ul>


<h3>Extract Method [p. 102]</h3>

<ul>
<li>You have a code fragment that can be grouped together.

<ul>
<li>Turn the fragment into a method whose name explains the purpose of the method.</li>
</ul>
</li>
</ul>


<h3>Inline Temp [p. 110]</h3>

<ul>
<li>You have a temp that is assigned to once with a simple expression, and the temp is getting in the way of other refactorings.

<ul>
<li>Replace all references to that temp with the expression.</li>
</ul>
</li>
</ul>


<h3>Replace With Query [p. 111]</h3>

<ul>
<li>You are using a temporary variable to hold the result of an expression.

<ul>
<li>Extract the expression into a method. Replace all references to the temp with the expression. The new method can then be used in other methods.</li>
</ul>
</li>
</ul>


<h4>Ternary</h4>

<figure class='code'><figcaption><span>Ternary p. 114</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#from</span>
</span><span class='line'><span class="k">def</span> <span class="nf">price</span>
</span><span class='line'><span class="n">a_base_price</span> <span class="o">=</span> <span class="n">base_price</span> <span class="k">if</span> <span class="n">base_price</span> <span class="o">&gt;</span> <span class="mi">1000</span>
</span><span class='line'>    <span class="n">discount_factor</span> <span class="o">=</span> <span class="mi">0</span><span class="o">.</span><span class="mi">95</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>    <span class="n">discount_factor</span> <span class="o">=</span> <span class="mi">0</span><span class="o">.</span><span class="mi">98</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>  <span class="n">a_base_price</span> <span class="o">*</span> <span class="n">discount_factor</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#to (not an exact refactor, but good use of ternary)</span>
</span><span class='line'><span class="k">def</span> <span class="nf">discount_factor</span>
</span><span class='line'>  <span class="n">base_price</span> <span class="o">&gt;</span> <span class="mi">1000</span> <span class="o">?</span> <span class="mi">0</span><span class="o">.</span><span class="mi">95</span> <span class="p">:</span> <span class="mi">0</span><span class="o">.</span><span class="mi">98</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Extraction Method [p. 120]</h3>

<h3>Remove assignment parameters</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">a_method</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>
</span><span class='line'>  <span class="n">foo</span><span class="o">.</span><span class="n">modify_in_some_way</span> <span class="c1"># that&#39;s OK</span>
</span><span class='line'>  <span class="n">foo</span> <span class="o">=</span> <span class="n">another_object</span> <span class="c1"># trouble and despair will follow you</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Replace Loop with Conditional</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">managers</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'><span class="n">employees</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span>
</span><span class='line'>  <span class="n">managers</span> <span class="o">&lt;&lt;</span> <span class="n">e</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">manager?</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Lazy Initialized Attribute</h3>

<ul>
<li>Initialize an attribute on access instead of at construction time.</li>
</ul>


<figure class='code'><figcaption><span>Lazy Initialized Attribute</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Employee</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span>
</span><span class='line'>    <span class="vi">@emails</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="c1">#becomes</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Employee</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">emails</span>
</span><span class='line'>    <span class="vi">@emails</span> <span class="o">||=</span> <span class="o">[]</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Replace Methods with Method Objects</h3>

<blockquote><p>Turn the method into its own object so that all the local variables become instance variables on that object. You can then decompose the method into other methods on the same object.[p. 129]</p></blockquote>

<h3>Subsitute Algorithm</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Replace</span> <span class="n">the</span> <span class="n">body</span> <span class="n">of</span> <span class="n">the</span> <span class="nb">method</span> <span class="n">with</span> <span class="n">the</span> <span class="kp">new</span> <span class="n">algorithm</span><span class="o">.</span>
</span><span class='line'><span class="k">def</span> <span class="nf">found_friends</span><span class="p">(</span><span class="n">people</span><span class="p">)</span>
</span><span class='line'>  <span class="n">friends</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'>  <span class="n">people</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">person</span><span class="o">|</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="n">person</span> <span class="o">==</span> <span class="s2">&quot;Don&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="n">friends</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;Don&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="n">person</span> <span class="o">==</span> <span class="s2">&quot;John&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="n">friends</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;John&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="n">person</span> <span class="o">==</span> <span class="s2">&quot;Kent&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="n">friends</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;Kent&quot;</span>
</span><span class='line'><span class="k">end</span> <span class="k">end</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">friends</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#To</span>
</span><span class='line'><span class="k">def</span> <span class="nf">found_friends</span><span class="p">(</span><span class="n">people</span><span class="p">)</span>
</span><span class='line'>  <span class="n">people</span><span class="o">.</span><span class="n">select</span> <span class="k">do</span> <span class="o">|</span><span class="n">person</span><span class="o">|</span>
</span><span class='line'>    <span class="sx">%w(Don John Kent)</span><span class="o">.</span><span class="n">include?</span> <span class="n">person</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Replace Loop with collection p.134</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">managers</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'><span class="n">employees</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span>
</span><span class='line'>  <span class="n">managers</span> <span class="o">&lt;&lt;</span> <span class="n">e</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">manager?</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="c1">#to</span>
</span><span class='line'><span class="n">managers</span> <span class="o">=</span> <span class="n">employees</span><span class="o">.</span><span class="n">select</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">e</span><span class="o">.</span><span class="n">manager?</span><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">offices</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'><span class="n">employees</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">offices</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="o">.</span><span class="n">office</span><span class="p">}</span>
</span><span class='line'><span class="c1">#to</span>
</span><span class='line'><span class="n">offices</span> <span class="o">=</span> <span class="n">employees</span><span class="o">.</span><span class="n">collect</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">e</span><span class="o">.</span><span class="n">office</span><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">managerOffices</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'><span class="n">employees</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span>
</span><span class='line'>  <span class="n">managerOffices</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="o">.</span><span class="n">office</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">manager?</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="c1">#to</span>
</span><span class='line'><span class="n">managerOffices</span> <span class="o">=</span> <span class="n">employees</span><span class="o">.</span><span class="n">select</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">e</span><span class="o">.</span><span class="n">manager?</span><span class="p">}</span><span class="o">.</span>
</span><span class='line'>                           <span class="n">collect</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">e</span><span class="o">.</span><span class="n">office</span><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class='line'><span class="n">employees</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">total</span> <span class="o">+=</span> <span class="n">e</span><span class="o">.</span><span class="n">salary</span><span class="p">}</span>
</span><span class='line'><span class="c1">#to</span>
</span><span class='line'><span class="n">total</span> <span class="o">=</span> <span class="n">employees</span><span class="o">.</span><span class="n">inject</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span><span class="n">sum</span><span class="p">,</span> <span class="n">e</span><span class="o">|</span> <span class="n">sum</span> <span class="o">+</span> <span class="n">e</span><span class="o">.</span><span class="n">salary</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Extract Surround Method p.135</h3>

<blockquote><p>You have two methods that contain nearly identical code. The variance is in the middle of the method.
<em>Extract the duplication into a method that accepts a block and yields back to the caller to execute the unique code.</em></p></blockquote>

<ul>
<li>This exists in Gitbo</li>
</ul>


<h3>Class Annotation p.139</h3>

<blockquote><p>Declare the behavior by calling a class method from the class definition.</p></blockquote>

<p><code>hash_initializer :author_id, :publisher_id, :isbn</code> like <code>attr_accessor</code> or <code>repo_params</code></p>

<h3>Introduce Named Parameters p.142</h3>

<blockquote><p>Convert the parameter list into a Hash, and use the keys of the Hash as names for the parameters.</p></blockquote>

<p><strong>This is what rails does with params!</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">SearchCriteria</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;0201485672&quot;</span><span class="p">)</span>
</span><span class='line'><span class="c1">#TO</span>
</span><span class='line'><span class="no">SearchCriteria</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:author_id</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span> <span class="ss">:publisher_id</span> <span class="o">=&gt;</span> <span class="mi">8</span><span class="p">,</span> <span class="ss">:isbn</span> <span class="o">=&gt;</span><span class="s2">&quot;0201485672&quot;</span><span class="p">)</span>
</span><span class='line'><span class="c1">#like an options path</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Dynamic Method Definition p.152</h3>

<p><a href="/blog/dynamic-method-definition/">see</a></p>

<h3>Moving methods p.168</h3>

<blockquote><p>The bread and butter of refactoring</p></blockquote>

<h3>Move Field p.173</h3>

<blockquote><p>I consider moving a field if I see more methods on another class using the information in the field than the class itself. I may choose to move the methods; this decision is based on interface. But if the methods seem sensible where they are, I move the field.</p></blockquote>

<h3>Extract Class p.175</h3>

<blockquote><p>You have one class doing work that should be done by two.</p></blockquote>

<h3>Inline Class p. 179</h3>

<blockquote><p>A class isn’t doing very much. <em>Move all its features into another class and delete it.</em></p></blockquote>

<h3>Self Encapsulate Field p. 188</h3>

<blockquote><p>You are accessing a field directly, but the coupling to the field is becoming awkward. <em>Create getting and setting methods for the field and use only those to access the field.</em></p></blockquote>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">total</span>
</span><span class='line'>  <span class="vi">@base_price</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="vi">@tax_rate</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="c1">#TO</span>
</span><span class='line'><span class="kp">attr_reader</span> <span class="ss">:base_price</span><span class="p">,</span> <span class="ss">:tax_rate</span>
</span><span class='line'><span class="k">def</span> <span class="nf">total</span>
</span><span class='line'>  <span class="n">base_price</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">tax_rate</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Replace array with object p.201</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">row</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'><span class="n">row</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;Liverpool&quot;</span>
</span><span class='line'><span class="n">row</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;15&quot;</span>
</span><span class='line'><span class="c1">#TO</span>
</span><span class='line'><span class="n">row</span> <span class="o">=</span> <span class="no">Performance</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'><span class="n">row</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Liverpool&quot;</span>
</span><span class='line'><span class="n">row</span><span class="o">.</span><span class="n">wins</span> <span class="o">=</span> <span class="s2">&quot;15&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Replace hash with object p.206</h3>

<h3>Encapsulate Collections p.219</h3>

<blockquote><p>A method returns a collection. <em>Make it return a copy of the collection and provide add/remove methods.</em></p></blockquote>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">add_course</span><span class="p">(</span><span class="n">course</span><span class="p">)</span>
</span><span class='line'>  <span class="vi">@courses</span> <span class="o">&lt;&lt;</span> <span class="n">course</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">remove_course</span><span class="p">(</span><span class="n">course</span><span class="p">)</span>
</span><span class='line'>  <span class="vi">@courses</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">course</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Lazily Initialized Attributes p.255</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Employee</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span>
</span><span class='line'>    <span class="vi">@emails</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Employee</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">emails</span>
</span><span class='line'>    <span class="vi">@emails</span> <span class="o">||=</span> <span class="o">[]</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Chapter 9: Simplifying Conditional Expressions</h2>

<h3>Replace Conditional with Polymorphism p. 279</h3>

<h3>Introduce Null Object p. 284</h3>

<blockquote><p>You have repeated checks for a nil value. <em>Replace the nil value with a null object.</em></p></blockquote>

<h3>Replace the conditional code with the more idiomatic Ruby construct.</h3>

<ul>
<li>Encapsulate if/else, and/or logic in their own methods</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">parameters</span> <span class="o">=</span> <span class="n">params</span> <span class="p">?</span> <span class="n">params</span> <span class="p">:</span> <span class="o">[]</span>
</span><span class='line'><span class="c1">#becomes</span>
</span><span class='line'><span class="n">parameters</span> <span class="o">=</span> <span class="n">params</span> <span class="o">||</span> <span class="o">[]</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Use &amp;&amp; instead of multiple ifs</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">if</span> <span class="n">on_vacation?</span>
</span><span class='line'>  <span class="k">if</span> <span class="n">length_of_service</span> <span class="o">&gt;</span> <span class="mi">10</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">1</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="mi">0</span><span class="o">.</span><span class="mi">5</span>
</span><span class='line'><span class="c1">#This would be changed to</span>
</span><span class='line'><span class="k">if</span> <span class="n">on_vacation?</span> <span class="o">&amp;&amp;</span> <span class="n">length_of_service</span> <span class="o">&gt;</span> <span class="mi">10</span>
</span><span class='line'>  <span class="k">return</span> <span class="mi">1</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="mi">0</span><span class="o">.</span><span class="mi">5</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Quote</h3>

<blockquote><p>One of the most fundamental, if not the fundamental, decision in object design is deciding where to put responsibilities. I’ve been working with objects for more than a decade, but I still never get it right the first time. That used to bother me, but now I realize that I can use refactoring to change my mind in these cases. p.167</p></blockquote>

<h2>Questions:</h2>

<ul>
<li>what is the receiver on page 35?</li>
<li>weird symbols on p127. T?L?1</li>
<li><p>don&#8217;t understand what is happening on p. 184</p>

<ul>
<li>Stopped at p. 287</li>
</ul>
</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/fis-day24/">FIS Day24</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-11-09T11:26:00-05:00" pubdate data-updated="true">Nov 9<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Nested Attributes</h3>

<p>accepts_nested_attributes_for -> creates a writer</p>

<figure class='code'><figcaption><span>What Nested Attributes Must do</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">mixtape_songs_attributes</span><span class="o">=</span><span class="p">(</span><span class="n">attributes</span><span class="p">)</span>
</span><span class='line'>  <span class="c1">#attributes is an array of hashes where each individual hash</span>
</span><span class='line'>  <span class="c1">#represents the atributes of a mixtape_song for this mixtape</span>
</span><span class='line'>  <span class="c1">#=&gt; [{:song_id =&gt; 1}, {:song_id =&gt; 2}]</span>
</span><span class='line'>  <span class="n">attributes</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">mixtape_song_attr</span><span class="o">|</span>
</span><span class='line'>    <span class="nb">self</span><span class="o">.</span><span class="n">mixtape_song_attr</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">mixtape_song_attributes</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Nested Attributes</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">name</span><span class="o">=</span> <span class="s2">&quot;mixtape[mixtape_songs_attr][][song_id]&quot;</span> <span class="c1">#we want many mixtape_song values</span>
</span><span class='line'><span class="nb">name</span><span class="o">=</span> <span class="s2">&quot;mixtape_songs_attr][][position]&quot;</span> <span class="c1">#yield the position</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#NOT -&gt; name= &quot;mixtape[mixtape_songs_attr][song_id][]&quot; </span>
</span><span class='line'><span class="c1">#=&gt; this is a bunch of song_ids, not mixtape_songs_attr parameters</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#THIS WORKS!! It understands the order</span>
</span><span class='line'><span class="nb">name</span><span class="o">=</span> <span class="s2">&quot;mixtape[mixtape_songs_attr][0][song_id]&quot;</span>
</span><span class='line'><span class="nb">name</span><span class="o">=</span> <span class="s2">&quot;mixtape[mixtape_songs_attr][1][song_id]&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="nb">name</span><span class="o">=</span> <span class="s2">&quot;mixtape_songs_attr][1][position]&quot;</span>
</span><span class='line'><span class="nb">name</span><span class="o">=</span> <span class="s2">&quot;mixtape_songs_attr][0][position]&quot;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>The fields_for level of abstraction</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="sx">%= f.fields_for :mixtape_songs do |mixtape_song_form| %&gt;</span>
</span><span class='line'><span class="sx">  &lt;%=</span> <span class="n">mixtape_song_form</span><span class="o">.</span><span class="n">text_field</span> <span class="ss">:song_id</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">&lt;% end %&gt;</span>
</span><span class='line'><span class="c1">#names it perfectly =&gt; mixtape[mixtape_songs_attr][0][song_id]</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#in the controller you need to build the association.</span>
</span><span class='line'><span class="vi">@mixtape</span><span class="o">.</span><span class="n">mixtape_songs</span><span class="o">.</span><span class="n">build</span>
</span><span class='line'><span class="c1">#or this can be done directly in the form</span>
</span><span class='line'><span class="o">&lt;</span><span class="sx">%= f.fields_for :mixtape_songs, @mixtape.mixtape_songs.build do |mixtape_song_form| %&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sx">#in a compartmentalized div</span>
</span><span class='line'><span class="sx">&lt;%=</span> <span class="n">fields_for</span> <span class="s1">&#39;mixtape_songs[]&#39;</span><span class="p">,</span> <span class="no">MixtapeSong</span><span class="o">.</span><span class="n">new</span><span class="p">,</span> <span class="ss">:index</span> <span class="o">=&gt;</span> <span class="mi">0</span> <span class="k">do</span> <span class="o">|</span><span class="n">mixtape_song_form</span><span class="o">|</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">  &lt;%= mixtape_song_form.text_field :song_id %&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="sx">% end %&gt;</span>
</span><span class='line'><span class="sx">#the &#39;mixtape_songs[]&#39; communicates that this the first of many</span>
</span><span class='line'>
</span><span class='line'><span class="sx">&lt;% 1.upto(10).each do %&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">input</span> <span class="n">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nb">name</span><span class="o">=</span><span class="s2">&quot;mixtape_songs[][song_id]&quot;</span> <span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="sx">% end </span><span class="o">%&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>The fields_for level of abstraction</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">raw</span><span class="p">(</span><span class="n">fields_for</span>
</span><span class='line'><span class="c1">#a bunch of html)</span>
</span><span class='line'>
</span><span class='line'><span class="n">fields_for</span><span class="p">(</span>
</span><span class='line'><span class="p">)</span><span class="o">.</span><span class="n">html_safe</span>
</span></code></pre></td></tr></table></div></figure>


<p>Don&#8217;t access the params hash into the model&#8211;> you will have broken MVC. This is the right way to do it:</p>

<figure class='code'><figcaption><span>Mass Assignment Logic in the Model</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">mass</span> <span class="n">assignment</span> <span class="n">will</span> <span class="n">call</span> <span class="n">a</span> <span class="nb">method</span>
</span><span class='line'><span class="k">def</span> <span class="nf">songs_to_add</span><span class="o">=</span><span class="p">(</span><span class="n">song_ids</span><span class="p">)</span>
</span><span class='line'>  <span class="n">songs_ids</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">song_id</span><span class="o">|</span>
</span><span class='line'>    <span class="nb">self</span><span class="o">.</span><span class="n">mixtape_songs</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">song_id</span> <span class="o">=&gt;</span> <span class="n">song_id</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#mixtape.new :songs_to_add =&gt; {a bunch of songs}</span>
</span><span class='line'><span class="c1">#params will attempt to call_this_method=</span>
</span><span class='line'><span class="c1">#and you can put this logic in the model</span>
</span></code></pre></td></tr></table></div></figure>


<p>git rebase master -> from a checked out branch will checkout master for that branch</p>

<figure class='code'><figcaption><span>Nested Resources</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#routes</span>
</span><span class='line'><span class="n">resources</span> <span class="ss">:mixtape</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">resources</span> <span class="ss">:songs</span><span class="p">,</span> <span class="ss">:controller</span> <span class="o">=&gt;</span> <span class="s1">&#39;mixtape/songs&#39;</span> <span class="p">,</span> <span class="ss">:only</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="ss">:new</span><span class="p">,</span> <span class="ss">:create</span><span class="o">]</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="c1">#Make a nested controller for a nested</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="sx">%= form_for(@song, :url =</span><span class="o">&gt;</span> <span class="n">mixtape_songs_path</span><span class="p">(</span><span class="vi">@mixtape</span><span class="p">))</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="o">%&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>When Heroku Crashed</h3>

<figure class='code'><figcaption><span>Nested Resources</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">heroku</span> <span class="n">logs</span> <span class="o">--</span><span class="n">tail</span>
</span><span class='line'><span class="n">heroku</span> <span class="n">run</span> <span class="n">rake</span> <span class="ss">db</span><span class="p">:</span><span class="n">migrate</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#caught this</span>
</span><span class='line'><span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:StatementInvalid</span> <span class="p">(</span><span class="ss">PG</span><span class="p">:</span><span class="ss">:Error</span><span class="p">:</span> <span class="ss">ERROR</span><span class="p">:</span>  <span class="n">value</span> <span class="n">too</span> <span class="n">long</span> <span class="k">for</span> <span class="n">type</span> <span class="n">character</span> <span class="n">varying</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
</span><span class='line'><span class="c1">#solution- change repo description attr and issue body attr to text from strings</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/fis-day23/">FIS Day23</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-11-08T09:50:00-05:00" pubdate data-updated="true">Nov 8<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Blog Configuration</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>♕ heroku domains:add adamjonas.com
</span><span class='line'>Adding adamjonas.com to ajonas... done
</span><span class='line'>♕ heroku domains:add blog.adamjonas.com
</span><span class='line'>Adding blog.adamjonas.com to ajonas... done</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>HOST NAME IP ADDRESS/ URL RECORD TYPE MX PREF TTL 
</span><span class='line'>  @       Heroku IPs              A(address)
</span><span class='line'>  @       Heroku IPs              A(address)
</span><span class='line'>  @       Heroku IPs              A(address)
</span><span class='line'>  www      ajonas.heroku  CNAME
</span><span class='line'>
</span><span class='line'>SUB-DOMAIN SETTINGS 
</span><span class='line'>  blog   ajonas.heroku   CNAME</span></code></pre></td></tr></table></div></figure>


<p>Explanation of heroku side <a href="https://devcenter.heroku.com/articles/custom-domains">is here</a>.</p>

<h3>POTD</h3>

<ul>
<li>Jeff Raskin</li>
</ul>


<h3>Morning Code</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rails</span> <span class="n">generate</span> <span class="ss">rspec</span><span class="p">:</span><span class="n">install</span>
</span></code></pre></td></tr></table></div></figure>


<p>a class is what describes how objects are similar to eachother
instances describe how objects are different</p>

<h3>Rails</h3>

<p>form builders - ActionView</p>

<p>acceptance -> virtual attribute</p>

<p>@instance_variables only can be accessed within the same action</p>

<figure class='code'><figcaption><span>Every time you run a migration</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rake</span> <span class="ss">db</span><span class="p">:</span><span class="nb">test</span><span class="ss">:prepare</span>
</span></code></pre></td></tr></table></div></figure>


<p>shoulda_matchers</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/fis-day22/">FIS Day22</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-11-07T10:10:00-05:00" pubdate data-updated="true">Nov 7<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>HTTParty</h3>

<ul>
<li><a href="https://github.com/jnunemaker/httparty">On github</a></li>
<li><a href="http://blog.teamtreehouse.com/its-time-to-httparty">Treehouse blog post</a></li>
</ul>


<h3>Rant</h3>

<ul>
<li><a href="http://en.wikipedia.org/wiki/Conway%27s_law">Conway&#8217;s law</a>

<ul>
<li>organizational communication will be reflected in the product</li>
</ul>
</li>
</ul>


<p>seagull architect -</p>

<blockquote><p>comes in, shits all over your code and then leaves</p></blockquote>

<p><a href="https://speakerdeck.com/sarahmei/the-insufficiency-of-good-design">Insufficiency of good design</a></p>

<p>Open source: def up and down in migration.rb in rails can be refactored</p>

<h3>POTD</h3>

<p><a href="http://en.wikipedia.org/wiki/Joseph_Weizenbaum">Joseph Weizenbaum</a></p>

<h2>Rails Lecture</h2>

<figure class='code'><figcaption><span>Controller Test Continued from Day21&#8230;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;spec_helper&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">describe</span> <span class="no">SongsController</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">describe</span> <span class="s1">&#39;POST /songs&#39;</span> <span class="k">do</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s1">&#39;should create a song with a name&#39;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">post</span> <span class="ss">:create</span><span class="p">,</span> <span class="p">{</span><span class="ss">:song</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">}}</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">assigns</span><span class="p">(</span><span class="ss">:song</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="s2">&quot;Thriller&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s1">&#39;should create a song with an artist name&#39;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">post</span> <span class="ss">:create</span><span class="p">,</span> <span class="p">{</span><span class="ss">:song</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">,</span> <span class="ss">:artist_name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Michael Jackson&quot;</span><span class="p">}}</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">assigns</span><span class="p">(</span><span class="ss">:song</span><span class="p">)</span><span class="o">.</span><span class="n">artist_name</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="s2">&quot;Michael Jackson&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s2">&quot;should create a song with a genre string&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">post</span> <span class="ss">:create</span><span class="p">,</span> <span class="p">{</span><span class="ss">:song</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">,</span> <span class="ss">:genre_names</span> <span class="o">=&gt;</span> <span class="s2">&quot;Pop&quot;</span><span class="p">}}</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">assigns</span><span class="p">(</span><span class="ss">:song</span><span class="p">)</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">should</span> <span class="kp">include</span><span class="p">(</span><span class="s2">&quot;Pop&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s2">&quot;should create a song with a genres from a CSV string&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">post</span> <span class="ss">:create</span><span class="p">,</span> <span class="p">{</span><span class="ss">:song</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">,</span> <span class="ss">:genre_names</span> <span class="o">=&gt;</span> <span class="s2">&quot;Pop, Techno&quot;</span><span class="p">}}</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">assigns</span><span class="p">(</span><span class="ss">:song</span><span class="p">)</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">should</span> <span class="kp">include</span><span class="p">(</span><span class="s2">&quot;Pop&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s2">&quot;should create a song with a genre array containing CSV string&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">post</span> <span class="ss">:create</span><span class="p">,</span> <span class="p">{</span><span class="ss">:song</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">,</span> <span class="ss">:genre_names</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s2">&quot;Pop, Techno&quot;</span><span class="p">,</span> <span class="s2">&quot;Rap&quot;</span><span class="o">]</span><span class="p">}}</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">assigns</span><span class="p">(</span><span class="ss">:song</span><span class="p">)</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">should</span> <span class="kp">include</span><span class="p">(</span><span class="s2">&quot;Pop&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>song_spec.rb Unit Test</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;spec_helper&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">describe</span> <span class="no">Song</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">let</span><span class="p">(</span><span class="ss">:song</span><span class="p">){</span><span class="no">Song</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">)}</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">context</span> <span class="s1">&#39;with genres&#39;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">let</span><span class="p">(</span><span class="ss">:genre</span><span class="p">){</span><span class="no">Genre</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Pop&quot;</span><span class="p">)}</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">context</span> <span class="s1">&#39;.genre_names&#39;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should return an array of genre names&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genres</span> <span class="o">&lt;&lt;</span> <span class="n">genre</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">should</span> <span class="n">be_an_instance_of</span><span class="p">(</span><span class="nb">Array</span><span class="p">)</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">should</span> <span class="kp">include</span><span class="p">(</span><span class="s2">&quot;Pop&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should accept a genre name and add that genre&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span> <span class="o">=</span> <span class="s2">&quot;Techno&quot;</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">should</span> <span class="kp">include</span><span class="p">(</span><span class="s2">&quot;Techno&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should accept a comma delimited list of genre names&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span> <span class="o">=</span> <span class="s2">&quot;Techno, Pop&quot;</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">should</span> <span class="kp">include</span><span class="p">(</span><span class="s2">&quot;Techno&quot;</span><span class="p">,</span> <span class="s2">&quot;Pop&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should accept an array containing comma delimited list of genre names&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span> <span class="o">=</span> <span class="o">[</span><span class="s2">&quot;Techno, Pop&quot;</span><span class="p">,</span> <span class="s2">&quot;Rap&quot;</span><span class="o">]</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">should</span> <span class="kp">include</span><span class="p">(</span><span class="s2">&quot;Techno&quot;</span><span class="p">,</span> <span class="s2">&quot;Pop&quot;</span><span class="p">,</span> <span class="s2">&quot;Rap&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should only add unique genres&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span> <span class="o">=</span> <span class="o">[</span><span class="s2">&quot;Pop&quot;</span><span class="p">,</span> <span class="s2">&quot;Pop&quot;</span><span class="o">]</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genre_names</span><span class="o">.</span><span class="n">count</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="mi">1</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>rake spec:models</p>

<figure class='code'><figcaption><span>gem file</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">group</span> <span class="o">[</span><span class="ss">:development</span><span class="p">,</span> <span class="ss">:test</span><span class="o">]</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;debugger&#39;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>detect returns nil if there is not match</li>
<li>select returns an empty array when no match</li>
</ul>


<p><a href="http://guides.rubyonrails.org/active_support_core_extensions.html#array-conversions"><strong>to_sentence method in rails</strong></a></p>

<h3>HTML &lt; form_tag lower &lt; form_for</h3>

<p><a href="http://api.rubyonrails.org/classes/ActionView/Helpers/FormTagHelper.html#method-i-form_tag">form_tag</a></p>

<figure class='code'><figcaption><span>gem file</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="n">form</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;/songs&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;new_song&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;new_song&quot;</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">form</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="sx">%= form_tag(songs_path, :id =</span><span class="o">&gt;</span> <span class="s2">&quot;new song&quot;</span><span class="p">)</span> <span class="k">do</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">  &lt;%= text_field_tag &quot;song[name]&quot;, @song.name, :id =&gt;</span> <span class="s2">&quot;song_name&quot;</span><span class="o">]</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">  &lt;%= text_field_tag &quot;song[artist_name]&quot;, @song.artist_name, :id =&gt;</span> <span class="s2">&quot;song_artist_name&quot;</span><span class="o">]</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">  &lt;%= submit_tag &quot;Create Song&quot;, :id =&gt;</span> <span class="s2">&quot;create_song&quot;</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">&lt;% end %&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="sx">%= form_for(@song) do |f| %&gt;</span>
</span><span class='line'><span class="sx">  &lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">text_field</span> <span class="ss">:name</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">  &lt;%= f.text_field :artist_name %&gt;</span>
</span><span class='line'>  <span class="o">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">submit</span> <span class="sx">%&gt;</span>
</span><span class='line'><span class="sx">&lt;% end %&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="http://api.rubyonrails.org/classes/ActionView/Helpers/FormTagHelper.html#method-i-text_field_tag">text_field_tag docs</a></p>

<h3>Integration test / Acceptance Test</h3>

<ul>
<li><p><a href="http://railscasts.com/episodes/187-testing-exceptions">Railscast 187</a></p></li>
<li><p><a href="http://railscasts.com/episodes/257-request-specs-and-capybara">Railscast 257</a></p></li>
<li><a href="https://github.com/copiousfreetime/launchy">launchy gem</a> to see that page that capybara filled out - useful for creating fixtures</li>
<li><p>post_via_redirect</p>

<ul>
<li>get => response</li>
<li>visit => page</li>
</ul>
</li>
</ul>


<h3>Continuous Integration / Testing</h3>

<ul>
<li>autotest</li>
<li>guard

<ul>
<li><a href="https://github.com/guard/guard">gem guard-rspec</a></li>
</ul>
</li>
<li>rb-fsevent -> rb-FileSaveEvent -> gem that pings guard (or anything else) when a file is saved</li>
<li>growl extension or terminal notifier on the <a href="https://github.com/guard/guard#terminal-notifier">guard gem page</a></li>
<li><a href="https://github.com/jnicklas/capybara">capybara</a></li>
</ul>


<p><strong>receiver.try(:method) -> if the receiver is nil then try will not call the method, otherwise it will</strong></p>

<h3>Pull down the other app</h3>

<p>git merge upstream/master</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/fis-day21/">FIS Day21</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-11-06T13:57:00-05:00" pubdate data-updated="true">Nov 6<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong><em>Generate a model that is singular&#8211; ALWAYS</em></strong></p>

<p>&#8216;self&#8217; means the receiver of this method call</p>

<p><a href="http://blog.aviflombaum.com/blog/2012/07/dont-use-accepts-nested-attributes-for-with-belongs-to/"><strong>never ever have a nested attributes for belongs_to ONLY has has_many</strong>
</a></p>

<figure class='code'><figcaption><span>song.rb Model</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Class</span> <span class="no">Song</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">add_genre</span><span class="p">(</span><span class="n">genre</span><span class="p">)</span>
</span><span class='line'>    <span class="n">genre</span> <span class="o">=</span> <span class="no">Genre</span><span class="o">.</span><span class="n">find_or_create_by_name</span><span class="p">(</span><span class="n">genre</span><span class="p">)</span> <span class="k">if</span> <span class="n">genre</span><span class="o">.</span><span class="n">is_a?</span><span class="p">(</span><span class="nb">String</span><span class="p">)</span>
</span><span class='line'>    <span class="nb">self</span><span class="o">.</span><span class="n">song_genres</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:genre</span> <span class="o">=&gt;</span> <span class="n">genre</span><span class="p">)</span><span class="o">.</span><span class="n">genre</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>song_spec.rb Unit Test</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;spec_helper&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">describe</span> <span class="no">Song</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">context</span> <span class="s1">&#39;.add_genre&#39;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">before</span><span class="p">(</span><span class="ss">:each</span><span class="p">)</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">let</span><span class="p">(</span><span class="ss">:song</span><span class="p">){</span><span class="no">Song</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">)}</span>
</span><span class='line'>      <span class="n">let</span><span class="p">(</span><span class="ss">:genre</span><span class="p">){</span><span class="no">Genre</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Pop&quot;</span><span class="p">)}</span> <span class="c1">#this creates the genre method that executes the block that follows it.</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should add the genre&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">add_genre</span><span class="p">(</span><span class="n">genre</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genres</span><span class="o">.</span><span class="n">should</span> <span class="kp">include</span><span class="p">(</span><span class="n">genre</span><span class="p">)</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should return the newly added genre&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">add_genre</span><span class="p">(</span><span class="n">genre</span><span class="p">)</span> <span class="n">should</span> <span class="o">==</span> <span class="n">genre</span> <span class="c1">#this means it won&#39;t return a full array like a push method return</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s1">&#39;should accept an existing genre name do&#39;</span>
</span><span class='line'>        <span class="n">genre</span> <span class="o">=</span> <span class="no">Genre</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Techno&quot;</span><span class="p">)</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">add_genre</span><span class="p">(</span><span class="s2">&quot;Techno&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="n">genre</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s1">&#39;should accept a genre name&#39;</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">add_genre</span><span class="p">(</span><span class="s2">&quot;Pop&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="n">genre</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should add only unique genres&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="c1">#if I add the same genre twice, it should still </span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">add_genre</span><span class="p">(</span><span class="n">genre</span><span class="p">)</span>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">add_genre</span><span class="p">(</span><span class="n">genre</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">song</span><span class="o">.</span><span class="n">genres</span><span class="o">.</span><span class="n">count</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="mi">1</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Rspec runs its tests in isolation, by running each test in a transaction. After each test, it rollbacks all the writes.</p>

<p>LOGS:</p>

<figure class='code'><figcaption><span>song_spec.rb Unit Test</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">tail</span> <span class="o">-</span><span class="n">f</span> <span class="c1">#open the end of the file and keep it open. </span>
</span></code></pre></td></tr></table></div></figure>


<p>If you are building associated data outside of your model, then you haven&#8217;t encapsulated enough.</p>

<ul>
<li>Tests Hierarchy in ascending levels of abstraction

<ul>
<li>unit tests</li>
<li>controller tests</li>
<li>integration tests</li>
</ul>
</li>
</ul>


<figure class='code'><figcaption><span>Controller Test</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;spec_helper&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">describe</span> <span class="no">SongsController</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">describe</span> <span class="s1">&#39;POST /songs&#39;</span> <span class="k">do</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s1">&#39;should create a song with a name do&#39;</span>
</span><span class='line'>      <span class="n">post</span> <span class="ss">:create</span><span class="p">,</span> <span class="p">{</span><span class="ss">:song</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">}}</span>
</span><span class='line'>      <span class="c1">#create action in the song controller with post or request parameters that you </span>
</span><span class='line'>      <span class="c1">#want to send along with it</span>
</span><span class='line'>
</span><span class='line'>     <span class="c1"># Song.find_by_name(&quot;Thriller&quot;).should be_true</span>
</span><span class='line'>     <span class="n">assigns</span><span class="p">(</span><span class="ss">:song</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="s2">&quot;Thriller&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s1">&#39;should create a song with an artist name&#39;</span>
</span><span class='line'>      <span class="n">post</span> <span class="ss">:create</span><span class="p">,</span> <span class="p">{</span><span class="ss">:song</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Thriller&quot;</span><span class="p">,</span> <span class="ss">:artist_name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Michael Jackson&quot;</span><span class="p">}}}</span>
</span><span class='line'>      <span class="c1">#this makes artist_name a first class citizen in the params hash.</span>
</span><span class='line'>
</span><span class='line'>      <span class="c1">#we killed this because we are assigning a string, not an artist object--&gt; post :create, {:song =&gt; {:name =&gt; &quot;Thriller&quot;, :artist =&gt; {:name =&gt; &quot;Michael Jackson&quot;}}} </span>
</span><span class='line'>
</span><span class='line'>      <span class="c1">#create action in the song controller with post or request parameters that you </span>
</span><span class='line'>      <span class="c1">#want to send along with it</span>
</span><span class='line'>
</span><span class='line'>      <span class="c1">#Song.find_by_name(&quot;Thriller&quot;).should be_true</span>
</span><span class='line'>      <span class="n">assigns</span><span class="p">(</span><span class="ss">:song</span><span class="p">)</span><span class="o">.</span><span class="n">artist</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="s2">&quot;Michael Jackson&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>song_spec.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">context</span> <span class="s1">&#39;.artist_name&#39;</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">it</span> <span class="s2">&quot;should have an artist_name method&quot;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">song</span><span class="o">.</span><span class="n">should</span> <span class="n">respond_to</span><span class="p">(</span><span class="ss">:artist_name</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">it</span> <span class="s1">&#39;should return a songs artist&#39;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">song</span><span class="o">.</span><span class="n">artist</span> <span class="o">=</span> <span class="no">Artist</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;Michael Jackson&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="n">song</span><span class="o">.</span><span class="n">artst_name</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="s2">&quot;Michael Jackson&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">context</span> <span class="s1">&#39;.artist_name=&#39;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">it</span> <span class="s2">&quot;should assign the artist via the name&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">song</span><span class="o">.</span><span class="n">artist_name</span> <span class="o">=</span> <span class="s2">&quot;Michael Jackson&quot;</span>
</span><span class='line'>      <span class="n">song</span><span class="o">.</span><span class="n">artist</span><span class="o">.</span><span class="n">should</span> <span class="n">be_a</span><span class="p">(</span><span class="no">Artist</span><span class="p">)</span>
</span><span class='line'>      <span class="n">song</span><span class="o">.</span><span class="n">artist_name</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="s2">&quot;Michael Jackson&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Song.rb Model</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="k">def</span> <span class="nf">artist_name</span>
</span><span class='line'>    <span class="nb">self</span><span class="o">.</span><span class="n">artist</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="nb">self</span><span class="o">.</span><span class="n">artist</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">artist_name</span><span class="o">=</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</span><span class='line'>    <span class="nb">self</span><span class="o">.</span><span class="n">artist</span> <span class="o">=</span> <span class="no">Artist</span><span class="o">.</span><span class="n">find_or_create_by_name</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>SOLID</h3>

<p>Procedural code- solutions for very specific problems</p>

<p>dependencies will kill your code, but design will save it</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/code-smells-and-refactoring/">Code Smells and Refactoring</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-11-05T15:05:00-05:00" pubdate data-updated="true">Nov 5<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>decomposition and synthesis</p>

<ul>
<li><a href="http://www.codinghorror.com/blog/2006/05/code-smells.html">Code smells</a> Jeff Atwood.</li>
<li><a href="http://www.cs.usfca.edu/~parrt/course/601/lectures/refactoring/refactoring.html">Summary</a></li>
<li><p>http://c2.com/cgi/wiki?RefactoringImprovingTheDesignOfExistingCode</p></li>
<li><p>http://en.wikipedia.org/wiki/Code_refactoring</p></li>
<li><a href="http://martinfowler.com/bliki/EtymologyOfRefactoring.html">etymology of refactoring</a>

<ul>
<li>The obvious answer comes from the notion of factoring in mathematics. You can take an expressions such as x<sup>2</sup> + 5x + 6 and factor it into (x+2)(x+3). By factoring it you can make a number of mathematical operations much easier. Obviously this is much the same as representing 18 as 2*3<sup>2.</sup></li>
</ul>
</li>
</ul>


<p>improve internal structure, but don&#8217;t change the external behavior</p>

<ul>
<li><p>list of refactors - slide 7 in <a href="http://www.slideshare.net/MarcusDenker/refactoring-1921411">http://www.slideshare.net/MarcusDenker/refactoring-1921411</a></p></li>
<li><p>code is written once, but read many times.</p></li>
</ul>


<p><a href="http://www.refactoring.com/catalog/index.html">refactoring list from fowler</a></p>

<ul>
<li><p><a href="http://en.wikipedia.org/wiki/Spaghetti_code">Spaghetti Code</a></p>

<ul>
<li>Spaghetti code is a pejorative term for source code that has a complex and tangled control structure. It is named such because program flow tends to look like a bowl of spaghetti, i.e. twisted and tangled.</li>
</ul>
</li>
<li><p>Duplicated Code</p></li>
<li>long method</li>
<li>large class</li>
<li>long parameter list</li>
<li><p>temporary variable assigned more than once, but not a loop or collection</p></li>
<li><p><a href="http://www.refactoring.com/catalog/extractMethod.html">extract method</a></p>

<ul>
<li>push logic to the model -> conditional logic belongs in the model</li>
<li>we&#8217;re going to push the nastiness down into the model. That way it can be tested and, so we can more easily change it in the future.</li>
</ul>
</li>
<li><p>when you refactor, the first test is always create tests</p></li>
<li><p>good quotes <a href="http://www.slideshare.net/hominhchuc/refactoring-your-code-key-step-to-agility-presentation">http://www.slideshare.net/hominhchuc/refactoring-your-code-key-step-to-agility-presentation</a></p></li>
</ul>


<p>  Martin Fowler : &#8220;a change made to the internal structure of software to make it easier to understand and cheaper to modify without changing its observable behavior“.</p>

<p>  William C. Wake : &#8220;Refactoring is the art of safely improving the design of existing code“.</p>

<p>  The goal of refactoring is NOT to add new functionality.
  The goal is refactoring is to make code easier to maintain in the future.
  The process of refactoring involves the removal of duplication, the simplification of complex logic, and the clarification of unclear code.</p>

<p>  refactoring versus rewriting</p>

<p>  lego versus playdoh slide 9 <a href="http://www.slideshare.net/NeilGreen1/the-roi-of-refactoring-lego-vs-playdoh">http://www.slideshare.net/NeilGreen1/the-roi-of-refactoring-lego-vs-playdoh</a></p>

<p>  Everything I need to know about refactoring I learned in kindergarden</p>

<p>   “I&#8217;m not a great programmer; I&#8217;m just a good programmer with great habits.”- Kent Beck</p>

<h3>Law of demeter?</h3>

<p>  Get into this?</p>

<h3>E.g.s</h3>

<ul>
<li>Inline class- <a href="http://www.refactoring.com/catalog/inlineClass.html">http://www.refactoring.com/catalog/inlineClass.html</a></li>
<li>Decompost conditional-  <a href="http://www.refactoring.com/catalog/decomposeConditional.html">http://www.refactoring.com/catalog/decomposeConditional.html</a></li>
<li>Extract Class - <a href="http://www.refactoring.com/catalog/extractClass.html">http://www.refactoring.com/catalog/extractClass.html</a></li>
<li>Inline Method</li>
<li>Replace Conditional with Polymorphism</li>
<li><p>Replace Parameter with Method</p></li>
<li><p>God class</p></li>
</ul>


<p><a href="http://www.refactoring.com/catalog/">http://www.refactoring.com/catalog/</a></p>

<h3>Code smells</h3>

<p><a href="http://en.wikipedia.org/wiki/Code_smell">http://en.wikipedia.org/wiki/Code_smell</a></p>

<p>extraction pattern- anti-pattern:
<a href="http://blog.jayfields.com/2007/04/ruby-anti-pattern-extract-module-to.html">http://blog.jayfields.com/2007/04/ruby-anti-pattern-extract-module-to.html</a></p>

<p>Refactoring:
Even noobs know that refactoring is important. This presentation, inspired by <em>Refactoring: Ruby Edition</em>, will cover the whys, whens, and hows of refactoring using examples.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/anatomy-of-web-requests/">Anatomy of Web Requests</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-11-05T12:58:00-05:00" pubdate data-updated="true">Nov 5<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3><a href="http://johndbritton.com/">John Britton</a></h3>

<h3>Requests are like</h3>

<ul>
<li>driving a car</li>
<li><p>shipping containers</p></li>
<li><p><a href="http://en.wikipedia.org/wiki/OSI_model">OSI model</a></p></li>
</ul>


<p>  sounds a lot like mvc- in terms of abstraction</p>

<p>  HTTP: the language that your browser speaks
  - The webpage is a document</p>

<h3>URI:</h3>

<ul>
<li><p>Rendering</p>

<ul>
<li>HTML structure</li>
<li>CSS style</li>
<li><p>JS behavior</p></li>
<li><p>ports are a concept</p></li>
<li>ftp 21</li>
<li>ssl 53</li>
<li>0-1024 -> are assigned</li>
<li>1024-49151 -> are available</li>
<li><p>49152+</p></li>
<li><p>if listening on 80- that means that route every request on port 80 to this program</p></li>
</ul>
</li>
<li><p><a href="http://jsfiddle.net/">JS Fiddle</a></p></li>
<li><p>HTTP: methods/verbs</p>

<ul>
<li>GET - grab some stuff and bring it down</li>
<li>POST - anything you are altering the state of the app with is probably a post request</li>
<li>PUT</li>
<li>DELETE</li>
<li>others: HEAD, PATCH, TRACE, OPTIONS, CONNECT</li>
</ul>
</li>
<li><p>curl- works just like a browser on the command line.</p></li>
</ul>


<h3>Where do those requests go?</h3>

<ul>
<li>what is the ip address of the resource I am looking for</li>
<li>if nothing is cached anywhere

<ul>
<li>13 root nameservers</li>
<li>TLD nameserver- authoritative for .coms for example</li>
<li>A record - I found the place to go for github, but I need the actual IP address</li>
<li><p>IP address</p></li>
<li><p><a href="http://en.wikipedia.org/wiki/BIND">BIND</a> is the most widely used DNS software on the Internet.</p></li>
<li><p>TTL- <a href="http://en.wikipedia.org/wiki/Time_to_live">time to live</a></p></li>
<li><p>Networks: nodes that can talk to each other directly</p></li>
<li>Interface</li>
<li><p>Network addresses:</p>

<ul>
<li>defines all the address that can talk to each other</li>
<li>a.b.c.d/n (n= network mask /subnet)</li>
<li>Private (non routable) network

<ul>
<li>10.0.0.0/8</li>
<li>172.16.0.0/12 -> identifies which part is</li>
<li>192.168.0.0/16 -> private networks namespaced for private networks</li>
</ul>


<p>255.255.255.0 -> subnet mask -> 24 bits ->
192.168.1.N and n can&#8217;t exceed 255 people.</p>

<p>10101100.0001 -> this is the network address -> the first 16 bits, the rest would be the node of the network</p>

<ul>
<li>you can have a lot more machines on an 8 bit network identifier, than a 16 bit. But you wouldn&#8217;t want to waste a bunch of nodes that aren&#8217;t going to be used.</li>
</ul>
</li>
</ul>
</li>
<li><p>Maximum number of address minus two</p>

<ul>
<li>192.168.1.255 -> broadcast address</li>
</ul>
</li>
<li><p>Network Hardware</p>

<ul>
<li>Hub - dumb -> connects everyone&#8217;s ports to each other -> every machine&#8217;s send is connected to everyone&#8217;s receive -> lowest level</li>
<li>Switch - smarter -> knows what addresses are connected to what ports - lowers network traffic, sending something once and remembering who responds</li>
<li>Router - smartest -> connects <a href="http://www.merriam-webster.com/dictionary/disparate">disparate</a> networks. Hub and switch talk to each other, for a router, we go through another point -> knows about disparate networks and IP addresses</li>
</ul>
</li>
</ul>


<p>-Network Protocols</p>

<ul>
<li>Operating system knows about the <strong>transport</strong>.

<ul>
<li>Something reliable it will write in <strong>TCP</strong>

<ul>
<li>It has to all get there or the file will be corrupt</li>
<li>there is a control mechanism. If the packets I&#8217;m not sending</li>
</ul>
</li>
<li><strong>UDP</strong> - don&#8217;t want a reliable transport.

<ul>
<li>I don&#8217;t care if it all gets there. Deliver it in order.</li>
<li>You don&#8217;t want a second of video that was sent out of order, you don&#8217;t want to patch it together out of order. Streaming would use UDP.</li>
</ul>
</li>
</ul>
</li>
<li>Routing - my machine doesn&#8217;t know about them.

<ul>
<li><a href="http://en.wikipedia.org/wiki/Routing_Information_Protocol">RIP</a> -</li>
<li><a href="http://en.wikipedia.org/wiki/Open_Shortest_Path_First">OSPF</a> - Open Shortest Path First- a concept of links and weight of links. If you have two possible routes, it will go on</li>
</ul>
</li>
<li><p>Network Address Translation</p>

<ul>
<li>maps traffic coming from an internal network and makes sure the appropriate machine gets the info it requested.</li>
</ul>
</li>
<li><p>traceroute</p></li>
</ul>
</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>traceroute github.com
</span><span class='line'>whois adamjonas.com
</span><span class='line'>ping google.com
</span><span class='line'>curl google.com</span></code></pre></td></tr></table></div></figure>


<ul>
<li><p>nmap
brew install nmap
nmap #map the network</p>

<h1>could run this against port 22 which is all the ssh</h1></li>
<li><p><a href="http://whatismyipaddress.com/">wireshark</a></p></li>
<li><p>hazel- rules based apps</p></li>
<li>cueing in rails</li>
<li><p><a href="http://progrium.com/localtunnel/">local tunnel</a></p></li>
<li><p>blobs, tags, branches, commits</p>

<ul>
<li>blob is just a file -> any data</li>
<li>git hash-object README</li>
</ul>
</li>
<li><p>tree</p>

<ul>
<li>brew install tree</li>
</ul>
</li>
<li><p>Divy or breeze: window arranging</p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/fis-day20/">FIS Day20</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-11-05T08:55:00-05:00" pubdate data-updated="true">Nov 5<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>UMLs</h3>

<ul>
<li><a href="http://en.wikipedia.org/wiki/Unified_Modeling_Language">Unified Model Language</a></li>
<li>Monolithic user classes

<ul>
<li><a href="http://stackoverflow.com/questions/3179396/what-does-monolithic-mean">definition of monolithic</a></li>
</ul>
</li>
</ul>


<h3>SQL</h3>

<ul>
<li>A has_many :through type query</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>SELECT * FROM song_genres INNER JOIN genres ON genre.id = genre_id FROM song_genre WHERE song_id = 1</span></code></pre></td></tr></table></div></figure>


<h3>Avoiding has_and_belongs_to_many</h3>

<ul>
<li>if you name a column order, connection, attribute, etc., you will run into issues, because those words are reserved</li>
<li><a href="http://archive.culann.com/2008/03/the-evil-unnecessary-has_and_belongs_to_many">don&#8217;t user HABTM</a></li>
<li><a href="http://blog.hasmanythrough.com/2006/4/20/many-to-many-dance-off">Jose Susser isn&#8217;t as adamant</a></li>
</ul>


<h3>Lessons Learned</h3>

<ul>
<li>Parameters in a method HAVE TO BE comma delimited:</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">form_tag</span><span class="p">(</span><span class="n">url_for_options</span> <span class="o">=</span> <span class="p">{},</span> <span class="n">options</span> <span class="o">=</span> <span class="p">{},</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>When using build, you just need to save the parent.</li>
</ul>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/15/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/13/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/tcp-udp-http/">tcp, udp, http</a>
      </li>
    
      <li class="post">
        <a href="/blog/moneyball-on-the-keyboard-scouting-talented-developers/">Moneyball on the Keyboard: Scouting Talented Developers</a>
      </li>
    
      <li class="post">
        <a href="/blog/how-the-web-works/">how the web works</a>
      </li>
    
      <li class="post">
        <a href="/blog/innovators-dilemma/">Innovator&#8217;s Dilemma</a>
      </li>
    
      <li class="post">
        <a href="/blog/stemming-and-faceted-search/">stemming and faceted search</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/adamjonas">@adamjonas</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'adamjonas',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Adam Jonas -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'ajonas';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
